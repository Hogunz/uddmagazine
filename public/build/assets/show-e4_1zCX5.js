import{r as H,j as s,c as U,f as ee,H as te,L as T,a as se}from"./app-i_jvt3Ju.js";import{C as re,A as le}from"./app-layout-D1B6VagG.js";import{a as ae,B as M}from"./index-CO4XgPAC.js";import{D as ie,a as oe,b as ne,c as ce}from"./dialog-5ps5K2Om.js";import{X as de}from"./footer-C1xWdMQz.js";/* empty css            */import"./index-NoOFFPH1.js";import"./index-CUqXNjDo.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xe=ae("ChevronLeft",me);function he({isOpen:r,onClose:e,imageUrl:t,images:o=[],initialIndex:d=0,altText:h}){const a=o.length>0?o:t?[t]:[],[n,m]=H.useState(d);if(H.useEffect(()=>{r&&m(d)},[r,d]),H.useEffect(()=>{const l=c=>{r&&(c.key==="ArrowLeft"&&x(),c.key==="ArrowRight"&&K(),c.key==="Escape"&&e())};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[r,n,a]),a.length===0)return null;const K=()=>{m(l=>(l+1)%a.length)},x=()=>{m(l=>(l-1+a.length)%a.length)};return s.jsx(ie,{open:r,onOpenChange:e,children:s.jsxs(oe,{className:"max-w-[100vw] h-[100vh] w-full p-0 bg-transparent border-none shadow-none text-white flex flex-col justify-center items-center gap-0 focus:outline-none",children:[s.jsxs("div",{className:"sr-only",children:[s.jsx(ne,{children:h||"Image Gallery"}),s.jsxs(ce,{children:["Image ",n+1," of ",a.length]})]}),s.jsx(M,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-white/70 hover:text-white bg-black/20 hover:bg-black/40 z-50 rounded-full h-10 w-10 md:h-12 md:w-12",onClick:e,children:s.jsx(de,{className:"h-6 w-6"})}),s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4 sm:p-8",children:[a.length>1&&s.jsx(M,{variant:"ghost",size:"icon",className:"absolute left-2 md:left-8 top-1/2 -translate-y-1/2 text-white/70 hover:text-white bg-black/20 hover:bg-black/40 rounded-full h-10 w-10 md:h-12 md:w-12 z-50",onClick:l=>{l.stopPropagation(),x()},children:s.jsx(xe,{className:"h-6 w-6 md:h-8 md:w-8"})}),s.jsx("div",{className:"relative w-full h-full flex items-center justify-center",onClick:e,children:s.jsx("img",{src:a[n],alt:h||`Gallery Image ${n+1}`,className:"max-w-full max-h-full object-contain cursor-default",onClick:l=>l.stopPropagation()})}),a.length>1&&s.jsx(M,{variant:"ghost",size:"icon",className:"absolute right-2 md:right-8 top-1/2 -translate-y-1/2 text-white/70 hover:text-white bg-black/20 hover:bg-black/40 rounded-full h-10 w-10 md:h-12 md:w-12 z-50",onClick:l=>{l.stopPropagation(),K()},children:s.jsx(re,{className:"h-6 w-6 md:h-8 md:w-8"})})]}),a.length>1&&s.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-black/50 px-4 py-1.5 rounded-full text-sm font-medium backdrop-blur-sm pointer-events-none",children:[n+1," / ",a.length]})]})})}function Ne(r){const e=U.c(87),{article:t,trendingArticles:o,categories:d}=r,{auth:h}=ee().props;H.useState(null);const[a,n]=H.useState(!1),[m,K]=H.useState(0);let x;e[0]!==t.id?(x=()=>{confirm("Are you sure you want to delete this article?")&&se.delete(`/admin/news/${t.id}`)},e[0]=t.id,e[1]=x):x=e[1];const l=x;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c={title:"News",href:"/news"},e[2]=c):c=e[2];const V=`/news/${t.slug}`;let f;e[3]!==t.title||e[4]!==V?(f=[c,{title:t.title,href:V}],e[3]=t.title,e[4]=V,e[5]=f):f=e[5];let p;e[6]!==t.title?(p=s.jsx(te,{title:t.title}),e[6]=t.title,e[7]=p):p=e[7];let X;e[8]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(T,{href:"/news",className:"text-primary hover:text-primary transition-colors py-2 border-b-2 border-primary",children:"All News"}),e[8]=X):X=e[8];let g;if(e[9]!==t.category_id||e[10]!==d){let B;e[12]!==t.category_id?(B=i=>s.jsx(T,{href:`/category/${i.slug}`,className:`py-2 border-b-2 border-transparent hover:text-primary hover:border-primary/50 transition-all ${t.category_id===i.id?"text-primary border-primary":"text-gray-300"}`,children:i.name},i.id),e[12]=t.category_id,e[13]=B):B=e[13],g=d.map(B),e[9]=t.category_id,e[10]=d,e[11]=g}else g=e[11];let u;e[14]!==g?(u=s.jsx("div",{className:"bg-black text-white border-b border-white/10 overflow-x-auto",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("nav",{className:"flex items-center gap-6 md:gap-8 h-12 md:h-14 whitespace-nowrap text-sm font-medium",children:[X,g]})})}),e[14]=g,e[15]=u):u=e[15];let b;e[16]!==t.category?(b=t.category&&s.jsx(T,{href:`/category/${t.category.slug}`,children:s.jsx("span",{className:"text-primary font-bold tracking-widest text-xs uppercase border-b-2 border-primary pb-1 hover:text-primary/80 transition-colors",children:t.category.name})}),e[16]=t.category,e[17]=b):b=e[17];let y;e[18]!==b?(y=s.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:b}),e[18]=b,e[19]=y):y=e[19];let j;e[20]!==t.title?(j=s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif font-bold mb-6 leading-[1.1] tracking-tight text-foreground text-balance",children:t.title}),e[20]=t.title,e[21]=j):j=e[21];let Y;e[22]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"By"}),e[22]=Y):Y=e[22];let v;e[23]!==t.author_name||e[24]!==t.user?(v=t.author_name?s.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-foreground",children:t.author_name}):t.user?s.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-foreground",children:t.user.name}):s.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-foreground",children:"Editorial Staff"}),e[23]=t.author_name,e[24]=t.user,e[25]=v):v=e[25];let F;e[26]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("span",{className:"text-border mx-2",children:"|"}),e[26]=F):F=e[26];let w;e[27]!==t.created_at||e[28]!==t.published_at?(w=new Date(t.published_at||t.created_at).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"}),e[27]=t.created_at,e[28]=t.published_at,e[29]=w):w=e[29];let N;e[30]!==w?(N=s.jsx("span",{className:"text-xs font-medium uppercase tracking-widest",children:w}),e[30]=w,e[31]=N):N=e[31];let _;e[32]!==v||e[33]!==N?(_=s.jsxs("div",{className:"flex items-center gap-2",children:[Y,v,F,N]}),e[32]=v,e[33]=N,e[34]=_):_=e[34];let k;e[35]!==t.id||e[36]!==h.user?.is_admin||e[37]!==l?(k=h.user?.is_admin&&s.jsxs("div",{className:"flex gap-2 opacity-50 hover:opacity-100 transition-opacity",children:[s.jsx(T,{href:`/admin/news/${t.id}/edit`,children:s.jsx(M,{size:"sm",variant:"ghost",className:"h-6 text-xs uppercase tracking-wider",children:"Edit"})}),s.jsx(M,{size:"sm",variant:"ghost",className:"h-6 text-xs uppercase tracking-wider text-destructive hover:text-destructive",onClick:l,children:"Delete"})]}),e[35]=t.id,e[36]=h.user?.is_admin,e[37]=l,e[38]=k):k=e[38];let S;e[39]!==_||e[40]!==k?(S=s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-muted-foreground border-y border-border/40 py-6 mt-8 max-w-2xl mx-auto",children:[_,k]}),e[39]=_,e[40]=k,e[41]=S):S=e[41];let C;e[42]!==y||e[43]!==j||e[44]!==S?(C=s.jsxs("header",{className:"mb-10 text-center px-4 md:px-12 pt-8",children:[y,j,S]}),e[42]=y,e[43]=j,e[44]=S,e[45]=C):C=e[45];let D;e[46]!==t.image||e[47]!==t.title||e[48]!==t.video?(D=t.video?s.jsx("div",{className:"w-full aspect-video bg-black shadow-sm mb-12",children:s.jsx("video",{src:t.video,controls:!0,className:"w-full h-full object-contain mx-auto",poster:t.image||void 0,children:"Your browser does not support the video tag."})}):t.image&&s.jsxs("div",{className:"w-full mb-12",children:[s.jsx("img",{src:t.image,alt:t.title,className:"w-full h-auto max-h-[600px] object-contain mx-auto shadow-sm"}),s.jsx("figcaption",{className:"text-center text-xs text-muted-foreground mt-2 italic font-serif",children:t.title})]}),e[46]=t.image,e[47]=t.title,e[48]=t.video,e[49]=D):D=e[49];let I;e[50]!==t.content?(I=s.jsx("div",{className:"px-4 md:px-12 pb-12",children:s.jsx("div",{className:`prose prose-lg dark:prose-invert max-w-none \r
                                    prose-headings:font-serif prose-headings:font-bold prose-h1:text-4xl prose-h2:text-3xl prose-h3:text-2xl\r
                                    prose-p:font-serif prose-p:text-lg prose-p:leading-relaxed prose-p:text-foreground\r
                                    prose-a:text-primary prose-a:no-underline prose-a:border-b prose-a:border-primary/50 hover:prose-a:border-primary prose-a:transition-all\r
                                    prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:pl-6 prose-blockquote:italic prose-blockquote:font-serif prose-blockquote:text-xl prose-blockquote:text-muted-foreground\r
                                    prose-img:rounded-sm prose-img:shadow-md\r
                                    first-letter:float-left first-letter:text-6xl first-letter:font-bold first-letter:font-serif first-letter:text-foreground first-letter:mr-3 first-letter:mt-[-0.15em] first-letter:leading-[0.8]`,dangerouslySetInnerHTML:{__html:t.content}})}),e[50]=t.content,e[51]=I):I=e[51];let L;e[52]!==C||e[53]!==D||e[54]!==I?(L=s.jsxs("article",{className:"bg-background rounded-none lg:rounded-xl overflow-hidden",children:[C,D,I]}),e[52]=C,e[53]=D,e[54]=I,e[55]=L):L=e[55];let $;e[56]!==t.gallery_images||e[57]!==t.title?($=t.gallery_images&&t.gallery_images.length>0&&s.jsxs("div",{className:"pt-8 border-t",children:[s.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 md:gap-4",children:t.gallery_images.slice(0,4).map((B,i)=>{const Z=i===3,W=t.gallery_images.length-4;return s.jsxs("div",{className:`relative rounded-xl overflow-hidden shadow-sm cursor-pointer group aspect-[4/3] ${t.gallery_images.length===3&&i===0?"col-span-2 aspect-[2/1]":""} ${t.gallery_images.length===1?"col-span-2 aspect-[2/1]":""}`,onClick:()=>{K(i),n(!0)},children:[s.jsx("img",{src:B,alt:`${t.title} gallery ${i+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),Z&&W>0&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center group-hover:bg-black/40 transition-colors",children:s.jsxs("span",{className:"text-white text-3xl md:text-4xl font-bold",children:["+",W]})})]},i)})})]}),e[56]=t.gallery_images,e[57]=t.title,e[58]=$):$=e[58];let E;e[59]!==L||e[60]!==$?(E=s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[L,$]}),e[59]=L,e[60]=$,e[61]=E):E=e[61];let J;e[62]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsxs("h3",{className:"text-xl font-serif font-bold mb-4 flex items-center",children:[s.jsx("span",{className:"w-1 h-6 bg-primary mr-3 rounded-full"}),"Trending Now"]}),e[62]=J):J=e[62];let z;e[63]!==o?(z=o.map(fe),e[63]=o,e[64]=z):z=e[64];let q;e[65]!==o.length?(q=o.length===0&&s.jsx("p",{className:"text-muted-foreground text-sm",children:"No trending articles yet."}),e[65]=o.length,e[66]=q):q=e[66];let A;e[67]!==z||e[68]!==q?(A=s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-24 space-y-8",children:s.jsxs("div",{className:"bg-secondary/5 rounded-none lg:rounded-xl p-6 border border-border/50",children:[J,s.jsxs("div",{className:"space-y-6",children:[z,q]})]})})}),e[67]=z,e[68]=q,e[69]=A):A=e[69];let G;e[70]!==E||e[71]!==A?(G=s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E,A]})}),e[70]=E,e[71]=A,e[72]=G):G=e[72];let O;e[73]===Symbol.for("react.memo_cache_sentinel")?(O=()=>n(!1),e[73]=O):O=e[73];let P;e[74]!==t.gallery_images?(P=t.gallery_images||[],e[74]=t.gallery_images,e[75]=P):P=e[75];let R;e[76]!==t.title||e[77]!==m||e[78]!==a||e[79]!==P?(R=s.jsx(he,{isOpen:a,onClose:O,images:P,initialIndex:m,altText:t.title}),e[76]=t.title,e[77]=m,e[78]=a,e[79]=P,e[80]=R):R=e[80];let Q;return e[81]!==G||e[82]!==R||e[83]!==f||e[84]!==p||e[85]!==u?(Q=s.jsxs(le,{breadcrumbs:f,children:[p,u,G,R]}),e[81]=G,e[82]=R,e[83]=f,e[84]=p,e[85]=u,e[86]=Q):Q=e[86],Q}function fe(r){return s.jsxs(T,{href:`/news/${r.slug}`,className:"group flex gap-4 items-start",children:[s.jsxs("div",{className:"w-20 h-20 flex-shrink-0 rounded-sm overflow-hidden bg-muted relative shadow-sm",children:[r.image?s.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground text-xs",children:"No Img"}),r.video&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx("div",{className:"w-0 h-0 border-t-[3px] border-t-transparent border-l-[6px] border-l-black border-b-[3px] border-b-transparent ml-0.5"})})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-serif font-bold text-base leading-tight mb-1 group-hover:text-primary transition-colors line-clamp-2",children:r.title}),s.jsx("div",{className:"text-xs text-muted-foreground flex items-center gap-2 font-sans tracking-wide uppercase",children:s.jsx("span",{children:new Date(r.published_at||r.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric"})})})]})]},r.id)}export{Ne as default};
